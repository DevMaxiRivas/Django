{% extends "base.html" %}

{% block content %}

<div class="
            card position-absolute
            top-50 start-50
            translate-middle 
            h-auto d-inline-block
            w-auto p-3
            shadow p-3 mb-5 bg-white rounded
            ">
  <h5 class="card-header">Listado de Libros</h5>
  <div class="card-body">
    {% if libros %}
    <div class="table-responsive">
      <table class="table table-striped table-bordered">
        <thead class="thead-dark">
          <tr>
            <th scope="col">Portada</th>
            <th scope="col">Título</th>
            <th scope="col">Autor</th>
          </tr>
        </thead>
        <tbody>
          {% for libro in libros %}
          <tr>
            <td>
              <img src="{{ libro.portada.url }}" alt="Portada de {{ libro.titulo }}"
                style="max-height: 150px; max-width: 150px;">
            </td>
            <td>
              <a href="{% url 'libro' libro.id %}">{{ libro.titulo }}</a>
            </td>
            <td>{{ libro.autor }}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
    {% else %}
    <p>Oops! No tenemos libros en catálogo.</p>
    {% endif %}


    <!-- Paginación de listas -->
    {% block pagination %}
    {% if is_paginated %}
    <div class="pagination d-flex justify-content-center mt-4">
      <span class="page-links">
        {% if page_obj.has_previous %}
        <a href="{{ request.path }}?page={{ page_obj.previous_page_number }}">Anterior</a>
        {% endif %}
        <span class="page-current">
          Pág. {{ page_obj.number }} de {{ page_obj.paginator.num_pages }}.
        </span>
        {% if page_obj.has_next %}
        <a href="{{ request.path }}?page={{ page_obj.next_page_number }}">Siguiente</a>
        {% endif %}
      </span>
    </div>
    {% endif %}

  </div>
</div>
{% endblock %}

{% endblock %}